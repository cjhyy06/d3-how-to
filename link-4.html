<!DOCTYPE html>
<html>

<head>
	<title>D3.js Starter Kits</title>
	<meta charset="utf-8">
	<script src="js/d3.v4.js"></script>
</head>

<style>
	path {
		fill: none;
		stroke: #999;
	}

	.node-a {
		fill: none;
		stroke: blue;
		stroke-width: 2px
	}

	.node-b {
		fill: none;
		stroke: red;
		stroke-width: 2px
	}

	.node-c {
		fill: none;
		stroke: #000;
		stroke-width: 2px
	}

	.horizontal-link {
		fill: none;
		stroke: green;
		stroke-width: .5px;
	}

	.vertical-link {
		fill: none;
		stroke: #000;
		stroke-width: .5px;
	}

	.radial-link {
		fill: none;
		stroke: #999;
		stroke-width: .5px;
	}
</style>

<body>

	<svg width="800" height="800">
		<g class="rootNode">
		</g>

	</svg>

	<script>
		var rootNode = d3.select('.rootNode')

		// --------------------------------------
		var radialRoot = rootNode
			.append('g')
			.attr('transform', 'translate(400, 400)')

		// 角度 -> 弧度
		// y = Math.PI / 180 * x
		// 弧度 -> 角度
		// y = 180 / Math.PI * x
		var linkRadial = d3.linkRadial()
			.angle(function(d) {
				return Math.PI / 180 * d.x
			})
			.radius(function(d) {
				return d.y
			})

		var pointCenter = {
			x: 0,
			y: 0
		}
		var pointRadialA = {
			x: 90,
			y: 300
		}

		var pointRadialB = {
			x: 270,
			y: 300
		}

		var pointRadialC = {
			x: 300,
			y: 300
		}

		radialRoot
			.append('path')
			.classed('radial-link', true)
			.attr("d", linkRadial({
				source: pointCenter,
				target: pointRadialA
			}))

		radialRoot
			.append('path')
			.classed('radial-link', true)
			.attr("d", linkRadial({
				source: pointCenter,
				target: pointRadialB
			}))

		radialRoot
			.append('path')
			.classed('radial-link', true)
			.attr("d", linkRadial({
				source: pointCenter,
				target: pointRadialC
			}))
	</script>
</body>

</html>
