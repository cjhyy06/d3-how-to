<!DOCTYPE html>
<html>

<head>
	<title>D3.js Starter Kits</title>
	<meta charset="utf-8">
	<script src="js/d3.v4.js"></script>
</head>

<style>
	path {
		fill: none;
		stroke: #999;
	}

	.node-a {
		fill: none;
		stroke: blue;
		stroke-width: 2px
	}

	.node-b {
		fill: none;
		stroke: red;
		stroke-width: 2px
	}

	.line-1 {
		stroke: blue;
	}

	.line-2 {
		stroke: red;
	}

	.line-3 {
		stroke: green;
	}

	.line-4 {
		stroke: pink;
	}
</style>

<body>

	<svg width="800" height="800">
		<g class="rootNode">
		</g>

	</svg>

	<script>
		var rootNode = d3.select('.rootNode')

		// Point A
		var pointA = {
			x: 400,
			y: 200
		}

		rootNode
			.append('circle')
			.classed('node-a', true)
			.attr('cx', pointA.x)
			.attr('cy', pointA.y)
			.attr('r', 4);

		// Point B
		var pointB = {
			x: 200,
			y: 300
		}

		rootNode
			.append('circle')
			.classed('node-b', true)
			.attr('cx', pointB.x)
			.attr('cy', pointB.y)
			.attr('r', 4)

		//A指令
		//A指令允许不闭合。可以想像成是椭圆的某一段，共七个参数：允许不闭合。可以想像成是椭圆的某一段，共七个参数：
		//A RX,RY,XROTATION,FLAG1,FLAG2,X,Y
		// RX,RY指所在椭圆的半轴大小
		// XROTATION指椭圆的X轴与水平方向顺时针方向夹角，可以想像成一个水平的椭圆绕中心点顺时针旋转XROTATION的角度。
		// FLAG1只有两个值，1表示大角度弧线，0为小角度弧线。
		// FLAG2只有两个值，确定从起点至终点的方向，1为顺时针，0为逆时针
		// X,Y为终点坐标

		rootNode
			.append('path')
			.classed('line-1', true)
			.attr("d", function() {
				var rx = Math.abs(pointB.x - pointA.x)
				var ry = Math.abs(pointB.y - pointA.y)
				return 'M ' + pointA.x + ',' + pointA.y + ' A ' + rx + ' ' + ry + ' 0 0 0 ' + pointB.x + ',' + pointB.y
			})

		rootNode
			.append('path')
			.classed('line-2', true)
			.attr("d", function() {
				var rx = Math.abs(pointB.x - pointA.x)
				var ry = Math.abs(pointB.y - pointA.y)

				return 'M ' + pointA.x + ',' + pointA.y + ' A ' + rx + ' ' + ry + ' 0 1 0 ' + pointB.x + ',' + pointB.y
			})


		rootNode
			.append('path')
			.classed('line-3', true)
			.attr("d", function() {
				var rx = Math.abs(pointB.x - pointA.x)
				var ry = Math.abs(pointB.y - pointA.y)

				return 'M ' + pointA.x + ',' + pointA.y + ' A ' + rx + ' ' + ry + ' 0 0 1 ' + pointB.x + ',' + pointB.y
			})

		rootNode
			.append('path')
			.classed('line-4', true)
			.attr("d", function() {
				var rx = Math.abs(pointB.x - pointA.x)
				var ry = Math.abs(pointB.y - pointA.y)

				return 'M ' + pointA.x + ',' + pointA.y + ' A ' + rx + ' ' + ry + ' 0 1 1 ' + pointB.x + ',' + pointB.y
			})
	</script>
</body>

</html>
